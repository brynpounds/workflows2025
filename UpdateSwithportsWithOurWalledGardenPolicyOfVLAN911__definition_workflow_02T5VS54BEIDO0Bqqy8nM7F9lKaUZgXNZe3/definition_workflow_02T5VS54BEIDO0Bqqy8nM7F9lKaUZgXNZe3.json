{
  "workflow": {
    "unique_name": "definition_workflow_02T5VS54BEIDO0Bqqy8nM7F9lKaUZgXNZe3",
    "name": "Update swithports with out walled garden policy of VLAN 911",
    "title": "Update swithports with out walled garden policy of VLAN 911",
    "type": "generic.workflow",
    "base_type": "workflow",
    "variables": [
      {
        "schema_id": "datatype.string",
        "properties": {
          "value": "Port 5, Port 6, Port 7, Port 8, Port 9, Port 10",
          "scope": "local",
          "name": "Input_temp",
          "type": "datatype.string",
          "is_required": false,
          "display_on_wizard": false,
          "is_invisible": false,
          "variable_string_format": "text"
        },
        "unique_name": "variable_workflow_02T5W3UVHRGDM5FCUmna3dzP4wXYkdNxleb",
        "object_type": "variable_workflow"
      },
      {
        "schema_id": "datatype.string",
        "properties": {
          "value": "",
          "scope": "input",
          "name": "Serial Number",
          "type": "datatype.string",
          "is_required": false,
          "display_on_wizard": false,
          "is_invisible": false,
          "variable_string_format": "text"
        },
        "unique_name": "variable_workflow_02T5Y0FERIWZP4AbCo1x8WaUZzvTMJaTZto",
        "object_type": "variable_workflow"
      },
      {
        "schema_id": "datatype.string",
        "properties": {
          "value": "",
          "scope": "input",
          "name": "port list",
          "type": "datatype.string",
          "is_required": false,
          "display_on_wizard": false,
          "is_invisible": false,
          "variable_string_format": "text"
        },
        "unique_name": "variable_workflow_02T5WWOQS6QAB5UMbwWLdeN6VQYVl56HqmY",
        "object_type": "variable_workflow"
      }
    ],
    "properties": {
      "atomic": {
        "is_atomic": false
      },
      "delete_workflow_instance": false,
      "display_name": "Update swithports with out walled garden policy of VLAN 911",
      "runtime_user": {
        "target_default": true
      },
      "target": {
        "target_type": "meraki.endpoint",
        "target_id": "definition_target_02P2ZSU7RU4455xKh5ZpgfwWcaAyg6T3jjh",
        "execute_on_workflow_target": true
      }
    },
    "object_type": "definition_workflow",
    "actions": [
      {
        "unique_name": "definition_activity_02T5WEMVBC3HM1dUSDDpymwOwFRNM9pnXmd",
        "name": "Execute Python Script",
        "title": "Format ports for Array",
        "type": "python3.script",
        "base_type": "activity",
        "properties": {
          "action_timeout": 180,
          "continue_on_failure": false,
          "description": "Execute Python Script",
          "display_name": "Format ports for Array",
          "script": "import re\n\ntext = \"$workflow.definition_workflow_02T5VS54BEIDO0Bqqy8nM7F9lKaUZgXNZe3.input.variable_workflow_02T5WWOQS6QAB5UMbwWLdeN6VQYVl56HqmY$\"\nclean = re.sub(r\"[^\\d,]\", \"\", text)\n\nports = [{\"port\": p} for p in clean.split(\",\") if p]",
          "script_queries": [
            {
              "script_query": "ports",
              "script_query_name": "Ports Array",
              "script_query_type": "array"
            }
          ],
          "skip_execution": false
        },
        "object_type": "definition_activity"
      },
      {
        "unique_name": "definition_activity_02T5WSBU9PMAL3gzETzgwsMWjSlcZ9cQUdj",
        "name": "Read Table from JSON",
        "title": "Read Table from JSON",
        "type": "corejava.read_table_from_json",
        "base_type": "activity",
        "properties": {
          "action_timeout": 180,
          "continue_on_failure": false,
          "description": "Reading table data from JSON",
          "display_name": "Read Table from JSON",
          "input_json": "$activity.definition_activity_02T5WEMVBC3HM1dUSDDpymwOwFRNM9pnXmd.output.script_queries.Ports Array$",
          "jsonpath_query": "$",
          "persist_output": false,
          "populate_columns": false,
          "skip_execution": false,
          "table_columns": [
            {
              "column_name": "port",
              "column_type": "string"
            }
          ]
        },
        "object_type": "definition_activity"
      },
      {
        "unique_name": "definition_activity_02T5VZNG9J8K56xFLpnNVDgmptTG7sDkK9t",
        "name": "For Each",
        "title": "For Each",
        "type": "logic.for_each",
        "base_type": "activity",
        "properties": {
          "continue_on_failure": false,
          "description": "ForEach block",
          "display_name": "For Each",
          "skip_execution": false,
          "source_array": "$activity.definition_activity_02T5WSBU9PMAL3gzETzgwsMWjSlcZ9cQUdj.output.read_table_from_json$"
        },
        "object_type": "definition_activity",
        "actions": [
          {
            "unique_name": "definition_activity_02T5VY3M3AZAB3g95N8PbhCEZJ7np3yx6Rb",
            "name": "Meraki - Update Device Switch Port",
            "title": "Meraki - Update Device Switch Port",
            "type": "workflow.atomic_workflow",
            "base_type": "subworkflow",
            "properties": {
              "continue_on_failure": false,
              "description": "Update a switch port",
              "display_name": "Meraki - Update Device Switch Port",
              "input": {
                "variable_workflow_02LLUSYKBX4PZ3WjZouQ7Ao1l5hT4cnAUrN": [],
                "variable_workflow_02LLUSYKBXGAB7ib3NJmVRe6DqQI0M9zMH1": [],
                "variable_workflow_02LLUSYKBXQ7D4xyOMMWwHZHHQ2cEOv5Wln": [],
                "variable_workflow_02LLUSYKBXXGH34AbYGqboz3vfZqit9CPyV": "$workflow.definition_workflow_02T5VS54BEIDO0Bqqy8nM7F9lKaUZgXNZe3.input.variable_workflow_02T5Y0FERIWZP4AbCo1x8WaUZzvTMJaTZto$",
                "variable_workflow_02LLUSYKBYOQT4BOkCOQNg89WmBvlZhHiSm": "",
                "variable_workflow_02LLUSYKBZAKG2dyFrZHNVBXEm1ya380I3m": "",
                "variable_workflow_02LLUSYKBZPQR21LS1nlDQuyg7SffMfLXYb": "",
                "variable_workflow_02LLUSYKC0PL36XDwFWuMpoBTf8gDGg7SSG": "",
                "variable_workflow_02LLUSYKC1CKM3aD49S4oU8KtcWlXyJq3TY": "{}",
                "variable_workflow_02LLUSYKC2CX5784kkVjameEjvpseeS1mUm": "",
                "variable_workflow_02LLUSYKC2M1B6KsrKKuu6Lu3zMf9Vvkyro": "911",
                "variable_workflow_02LLUSYKC3THY4wvCURJUJLZ5M0CLLRKQfC": "$activity.definition_activity_02T5VZNG9J8K56xFLpnNVDgmptTG7sDkK9t.input.source_array[@].port$",
                "variable_workflow_02LLUSYKC41ZV4aUwh1C0r9CG2So2fP2GFN": "",
                "variable_workflow_02LLUSYKC82Z16MjBoPD6gF8yttFpiuYDKn": "",
                "variable_workflow_02LLUSYKC8E0T6Ak1VgZnAM4qwByic8KJPQ": "",
                "variable_workflow_02LLUSYKC9NKE4YHnDq0PhrjEcWt9b3kPuF": "",
                "variable_workflow_02LLUSYKCCOLA4Bd6SfZY4wQLR7m0MD24rU": "{}",
                "variable_workflow_02LLUSYKCECQJ5w06BHfjOyOpV99NVPsifG": "",
                "variable_workflow_02LLUSYKCH02S5XRUR7mkVJFL61o2cAbnkR": "",
                "variable_workflow_02LLUSYKCHV6D5y7vJDrRS0dWmotXgiEvLv": "",
                "variable_workflow_02LLUUS7H0GQP5g3Ta1tR3yD2Rt1wMam9T3": false,
                "variable_workflow_02LMN059KPQRF5TRg53rsD0Nky9x4yFEbe0": "",
                "variable_workflow_02LMN40XI6JQR33Jqh4R4GE6xNqUpbwsAgU": "",
                "variable_workflow_02LMN4K5FBKX724j9phzqKI0rQN7ubHCNYe": "",
                "variable_workflow_02LMN50RVQV360p6viNghFRsDGeegCxZPwg": "",
                "variable_workflow_02LMN5GEUI7HG2JrpTlVSeRMyiyZH9eOpGK": "",
                "variable_workflow_02LMN5X9BBXCH6HEQMLIJKdERyfnfYBth2m": "",
                "variable_workflow_02LMN6CQX60OC0GrzaJy35TAdDhmsJ54vgl": "",
                "variable_workflow_02LMN6SON75QV5HKTBA9Ex7BOP8zysAuqQ2": ""
              },
              "runtime_user": {
                "target_default": true
              },
              "skip_execution": false,
              "target": {
                "target_type": "meraki.endpoint",
                "use_workflow_target": true
              },
              "workflow_id": "definition_workflow_02LLUSYK4J29K0l7bhU4PlTtgMFEdAMaXhi",
              "workflow_name": "Meraki - Update Device Switch Port"
            },
            "object_type": "definition_activity"
          }
        ]
      }
    ],
    "categories": [
      "category_1BMfMXSnJMyt5Ihqi7rWJr5N8cf"
    ]
  },
  "targets": {
    "definition_target_02P2ZSU7RU4455xKh5ZpgfwWcaAyg6T3jjh": {
      "unique_name": "definition_target_02P2ZSU7RU4455xKh5ZpgfwWcaAyg6T3jjh",
      "name": "BGP Meraki",
      "title": "BGP Meraki",
      "type": "meraki.endpoint",
      "base_type": "target",
      "object_type": "definition_target",
      "properties": {
        "default_runtime_user_id": "definition_runtime_user_02P2ZSIFVBLBD2NNsj7TYRUENqFrBr5ybnd",
        "description": "",
        "display_name": "BGP Meraki",
        "host": "api.meraki.com",
        "ignore_proxy": false,
        "is_https_proxy": false,
        "is_integration_target": false,
        "port": 443,
        "protocol": "https"
      }
    }
  },
  "runtime_users": {
    "definition_runtime_user_02P2ZSIFVBLBD2NNsj7TYRUENqFrBr5ybnd": {
      "unique_name": "definition_runtime_user_02P2ZSIFVBLBD2NNsj7TYRUENqFrBr5ybnd",
      "name": "BGP Meraki",
      "title": "BGP Meraki",
      "type": "runtime_user.meraki_credentials",
      "base_type": "runtime_user",
      "object_type": "definition_runtime_user",
      "properties": {
        "api_key": "*****",
        "display_name": "BGP Meraki"
      }
    }
  },
  "atomic_workflows": [
    "definition_workflow_02LLUSYK4J29K0l7bhU4PlTtgMFEdAMaXhi"
  ],
  "dependent_workflows": [
    "definition_workflow_02LLUSYK4J29K0l7bhU4PlTtgMFEdAMaXhi"
  ]
}